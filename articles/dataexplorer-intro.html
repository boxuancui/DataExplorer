<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to DataExplorer • DataExplorer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to DataExplorer">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-WEZQEP9LD5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WEZQEP9LD5');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DataExplorer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.8.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/dataexplorer-intro.html">Introduction to DataExplorer</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/boxuancui/DataExplorer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="dataexplorer-intro_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="dataexplorer-intro_files/d3-4.9.1/d3.min.js"></script><script src="dataexplorer-intro_files/diagonalNetwork-binding-0.4.1/diagonalNetwork.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to DataExplorer</h1>
                        <h4 data-toc-skip class="author">Boxuan Cui</h4>
            
            <h4 data-toc-skip class="date">2025-07-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/boxuancui/DataExplorer/blob/master/vignettes/dataexplorer-intro.Rmd" class="external-link"><code>vignettes/dataexplorer-intro.Rmd</code></a></small>
      <div class="d-none name"><code>dataexplorer-intro.Rmd</code></div>
    </div>

    
    
<p>This document introduces the package <a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a>, and
shows how it can help you with different tasks throughout your data
exploration process.</p>
<p>There are 3 main goals for <strong>DataExplorer</strong>:</p>
<ol style="list-style-type: decimal">
<li><a href="https://en.wikipedia.org/wiki/Exploratory_data_analysis" class="external-link">Exploratory
Data Analysis (EDA)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Feature_engineering" class="external-link">Feature
Engineering</a></li>
<li>Data Reporting</li>
</ol>
<p>The remaining of this guide will be organized in accordance with the
goals. As the package evolves, more content will be added.</p>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>We will be using the <a href="https://cran.r-project.org/package=nycflights13" class="external-link">nycflights13</a>
datasets for this document. If you have not installed the package,
please do the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"nycflights13"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13" class="external-link">nycflights13</a></span><span class="op">)</span></span></code></pre></div>
<p>There are 5 datasets in this package:</p>
<ul>
<li>airlines</li>
<li>airports</li>
<li>flights</li>
<li>planes</li>
<li>weather</li>
</ul>
<p>If you want to quickly visualize the structure of all, you may do the
following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span>
<span><span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">airlines</span>, <span class="va">airports</span>, <span class="va">flights</span>, <span class="va">planes</span>, <span class="va">weather</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_str.html">plot_str</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:800px;height:800px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"root":{"name":"root (List of 5)","children":[{"name":"X (tibble [16 × 2] (S3)","children":[{"name":"carrier (chr)"},{"name":"name (chr)"}]},{"name":"X.1 (tibble [1,458 × 8] (S3)","children":[{"name":"faa (chr)"},{"name":"name (chr)"},{"name":"lat (num)"},{"name":"lon (num)"},{"name":"alt (num)"},{"name":"tz (num)"},{"name":"dst (chr)"},{"name":"tzone (chr)"}]},{"name":"X.2 (tibble [336,776 × 19] (S3)","children":[{"name":"year (int)"},{"name":"month (int)"},{"name":"day (int)"},{"name":"dep_time (int)"},{"name":"sched_dep_time (int)"},{"name":"dep_delay (num)"},{"name":"arr_time (int)"},{"name":"sched_arr_time (int)"},{"name":"arr_delay (num)"},{"name":"carrier (chr)"},{"name":"flight (int)"},{"name":"tailnum (chr)"},{"name":"origin (chr)"},{"name":"dest (chr)"},{"name":"air_time (num)"},{"name":"distance (num)"},{"name":"hour (num)"},{"name":"minute (num)"},{"name":"time_hour (POSIXct, format)"}]},{"name":"X.3 (tibble [3,322 × 9] (S3)","children":[{"name":"tailnum (chr)"},{"name":"year (int)"},{"name":"type (chr)"},{"name":"manufacturer (chr)"},{"name":"model (chr)"},{"name":"engines (int)"},{"name":"seats (int)"},{"name":"speed (int)"},{"name":"engine (chr)"}]},{"name":"X.4 (tibble [26,115 × 15] (S3)","children":[{"name":"origin (chr)"},{"name":"year.1 (int)"},{"name":"month (int)"},{"name":"day (int)"},{"name":"hour (int)"},{"name":"temp (num)"},{"name":"dewp (num)"},{"name":"humid (num)"},{"name":"wind_dir (num)"},{"name":"wind_speed (num)"},{"name":"wind_gust (num)"},{"name":"precip (num)"},{"name":"pressure (num)"},{"name":"visib (num)"},{"name":"time_hour (POSIXct, format)"}]}]},"options":{"height":800,"width":800,"fontSize":20,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"#fff","nodeStroke":"steelblue","textColour":"#111","margin":{"top":null,"right":50,"bottom":null,"left":50},"opacity":0.9}},"evals":[],"jsHooks":[]}</script><p>You may also try <code>plot_str(data_list, type = "r")</code> for a
radial network.</p>
<hr>
<p>Now let’s merge all tables together for a more robust dataset for
later sections.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merge_airlines</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">flights</span>, <span class="va">airlines</span>, by <span class="op">=</span> <span class="st">"carrier"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">merge_planes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">merge_airlines</span>, <span class="va">planes</span>, by <span class="op">=</span> <span class="st">"tailnum"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span>, suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_flights"</span>, <span class="st">"_planes"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">merge_airports_origin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">merge_planes</span>, <span class="va">airports</span>, by.x <span class="op">=</span> <span class="st">"origin"</span>, by.y <span class="op">=</span> <span class="st">"faa"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span>, suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_carrier"</span>, <span class="st">"_origin"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">merge_airports_origin</span>, <span class="va">airports</span>, by.x <span class="op">=</span> <span class="st">"dest"</span>, by.y <span class="op">=</span> <span class="st">"faa"</span>, all.x <span class="op">=</span> <span class="cn">TRUE</span>, suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_origin"</span>, <span class="st">"_dest"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="exploratory-data-analysis">Exploratory Data Analysis<a class="anchor" aria-label="anchor" href="#exploratory-data-analysis"></a>
</h2>
<p>Exploratory data analysis is the process to get to know your data, so
that you can generate and test your hypothesis. Visualization techniques
are usually applied.</p>
<p>To get introduced to your newly created dataset:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/introduce.html">introduce</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<table class="table"><tbody>
<tr class="odd">
<td align="left">rows</td>
<td align="right">336,776</td>
</tr>
<tr class="even">
<td align="left">columns</td>
<td align="right">42</td>
</tr>
<tr class="odd">
<td align="left">discrete_columns</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="left">continuous_columns</td>
<td align="right">26</td>
</tr>
<tr class="odd">
<td align="left">all_missing_columns</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">total_missing_values</td>
<td align="right">809,170</td>
</tr>
<tr class="odd">
<td align="left">complete_rows</td>
<td align="right">906</td>
</tr>
<tr class="even">
<td align="left">total_observations</td>
<td align="right">14,144,592</td>
</tr>
<tr class="odd">
<td align="left">memory_usage</td>
<td align="right">97,254,656</td>
</tr>
</tbody></table>
<p>To visualize the table above (with some light analysis):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_intro.html">plot_intro</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-intro-1.png" width="960" style="display: block; margin: auto;"></p>
<p>You should immediately notice some surprises:</p>
<ol style="list-style-type: decimal">
<li>0.3% complete rows: This means only 0.3% of all rows are not
completely missing!</li>
<li>5.7% missing observations: Given the 0.3% complete rows, there are
only 5.7% total missing observations.</li>
</ol>
<p>Missing values are definitely creating problems. Let’s take a look at
the missing profiles.</p>
<div class="section level3">
<h3 id="missing-values">Missing values<a class="anchor" aria-label="anchor" href="#missing-values"></a>
</h3>
<p>Real-world data is messy, and you can simply use
<code>plot_missing</code> function to visualize missing profile for each
feature.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_missing.html">plot_missing</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-missing-1.png" width="768" style="display: block; margin: auto;"></p>
<p>From the chart, <strong>speed</strong> variable is mostly missing,
and probably not informative. Looks like we have found the culprit for
the 0.3% complete rows. Let’s drop it:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drop_columns.html">drop_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="st">"speed"</span><span class="op">)</span></span></code></pre></div>
<p>Note: You may store the missing data profile with
<code>profile_missing(final_data)</code> for additional analysis.</p>
</div>
<div class="section level3">
<h3 id="distributions">Distributions<a class="anchor" aria-label="anchor" href="#distributions"></a>
</h3>
<div class="section level4">
<h4 id="bar-charts">Bar Charts<a class="anchor" aria-label="anchor" href="#bar-charts"></a>
</h4>
<p>To visualize frequency distributions for all discrete features:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 5 columns ignored with more than 50 categories.</span></span>
<span><span class="co">## dest: 105 categories</span></span>
<span><span class="co">## tailnum: 4044 categories</span></span>
<span><span class="co">## time_hour: 6936 categories</span></span>
<span><span class="co">## model: 128 categories</span></span>
<span><span class="co">## name: 102 categories</span></span></code></pre>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-bar-run-1.png" width="768" style="display: block; margin: auto;"><img src="dataexplorer-intro_files/figure-html/eda-plot-bar-run-2.png" width="768" style="display: block; margin: auto;"></p>
<p>Upon closer inspection of <strong>manufacturer</strong> variable, it
is not hard to identify the following duplications:</p>
<ul>
<li>
<em>AIRBUS</em> and <em>AIRBUS INDUSTRIE</em>
</li>
<li>
<em>CANADAIR</em> and <em>CANADAIR LTD</em>
</li>
<li>
<em>MCDONNELL DOUGLAS</em>, <em>MCDONNELL DOUGLAS AIRCRAFT CO</em>
and <em>MCDONNELL DOUGLAS CORPORATION</em>
</li>
</ul>
<p>Let’s clean it up and look at the <strong>manufacturer</strong>
distribution again:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op">==</span> <span class="st">"AIRBUS INDUSTRIE"</span><span class="op">)</span>,<span class="op">]</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op">&lt;-</span> <span class="st">"AIRBUS"</span></span>
<span><span class="va">final_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op">==</span> <span class="st">"CANADAIR LTD"</span><span class="op">)</span>,<span class="op">]</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op">&lt;-</span> <span class="st">"CANADAIR"</span></span>
<span><span class="va">final_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MCDONNELL DOUGLAS AIRCRAFT CO"</span>, <span class="st">"MCDONNELL DOUGLAS CORPORATION"</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span><span class="op">$</span><span class="va">manufacturer</span> <span class="op">&lt;-</span> <span class="st">"MCDONNELL DOUGLAS"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">$</span><span class="va">manufacturer</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-update-manufacturer-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Feature <strong>dst_origin</strong>, <strong>tzone_origin</strong>,
<strong>year_flights</strong> and <strong>tz_origin</strong> contains
only 1 value, so we should drop them:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drop_columns.html">drop_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dst_origin"</span>, <span class="st">"tzone_origin"</span>, <span class="st">"year_flights"</span>, <span class="st">"tz_origin"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Frequently, it is very beneficial to look at bi-variate frequency
distribution. For example, to look at discrete features by
<strong>arr_delay</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_data</span>, with <span class="op">=</span> <span class="st">"arr_delay"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 5 columns ignored with more than 50 categories.</span></span>
<span><span class="co">## dest: 105 categories</span></span>
<span><span class="co">## tailnum: 4044 categories</span></span>
<span><span class="co">## time_hour: 6936 categories</span></span>
<span><span class="co">## model: 128 categories</span></span>
<span><span class="co">## name: 102 categories</span></span></code></pre>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-bar-with-run-1.png" width="768" style="display: block; margin: auto;"></p>
<p>The resulting distribution looks quite different from the regular
frequency distribution.</p>
<p>You may choose to break out all frequencies by a discrete
variable:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_data</span>, by <span class="op">=</span> <span class="st">"origin"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 5 columns ignored with more than 50 categories.</span></span>
<span><span class="co">## dest: 105 categories</span></span>
<span><span class="co">## tailnum: 4044 categories</span></span>
<span><span class="co">## time_hour: 6936 categories</span></span>
<span><span class="co">## model: 128 categories</span></span>
<span><span class="co">## name: 102 categories</span></span></code></pre>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-bar-by-run-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="histograms">Histograms<a class="anchor" aria-label="anchor" href="#histograms"></a>
</h4>
<p>To visualize distributions for all continuous features:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_histogram.html">plot_histogram</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-histogram-1.png" width="768" style="display: block; margin: auto;"><img src="dataexplorer-intro_files/figure-html/eda-plot-histogram-2.png" width="768" style="display: block; margin: auto;"><img src="dataexplorer-intro_files/figure-html/eda-plot-histogram-3.png" width="768" style="display: block; margin: auto;"></p>
<p>Immediately, you could observe that there are datetime features to be
further treated, e.g., concatenating year, month and day to form date,
and/or adding hour and minute to form datetime.</p>
<p>For the purpose of this vignette, I will not go deep into the
analytical tasks. However, we should treat the following features based
on the output of the histograms.</p>
<ul>
<li>Set <strong>flight</strong> to categorical, since that is the flight
number with no mathematical meaning:</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_columns.html">update_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="st">"flight"</span>, <span class="va">as.factor</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Remove <strong>year_flights</strong> and <strong>tz_origin</strong>
since there is only one value:</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drop_columns.html">drop_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year_flights"</span>, <span class="st">"tz_origin"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="qq-plot">QQ Plot<a class="anchor" aria-label="anchor" href="#qq-plot"></a>
</h4>
<p>Quantile-Quantile plot is a way to visualize the deviation from a
specific probability distribution. After analyzing these plots, it is
often beneficial to apply mathematical transformation (such as log) for
models like linear regression. To do so, we can use <code>plot_qq</code>
function. By default, it compares with normal distribution.</p>
<p>Note: The function will take a long time with many observations, so
you may choose to specify an appropriate <code>sampled_rows</code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qq_data</span> <span class="op">&lt;-</span> <span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arr_delay"</span>, <span class="st">"air_time"</span>, <span class="st">"distance"</span>, <span class="st">"seats"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_qq.html">plot_qq</a></span><span class="op">(</span><span class="va">qq_data</span>, sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-qq-1.png" width="576" style="display: block; margin: auto;"></p>
<p>From the chart, <strong>air_time</strong>, <strong>distance</strong>
and <strong>seats</strong> seems skewed on both tails. Let’s apply a
simple log transformation and plot them again.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">log_qq_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_columns.html">update_columns</a></span><span class="op">(</span><span class="va">qq_data</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_qq.html">plot_qq</a></span><span class="op">(</span><span class="va">log_qq_data</span><span class="op">[</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-qq-log-features-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The distribution looks better now! If necessary, you may also view
the QQ plot by another feature:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qq_data</span> <span class="op">&lt;-</span> <span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name_origin"</span>, <span class="st">"arr_delay"</span>, <span class="st">"air_time"</span>, <span class="st">"distance"</span>, <span class="st">"seats"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_qq.html">plot_qq</a></span><span class="op">(</span><span class="va">qq_data</span>, by <span class="op">=</span> <span class="st">"name_origin"</span>, sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-qq-by-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level3">
<h3 id="correlation-analysis">Correlation Analysis<a class="anchor" aria-label="anchor" href="#correlation-analysis"></a>
</h3>
<p>To visualize correlation heatmap for all non-missing features:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_correlation.html">plot_correlation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span>, maxcat <span class="op">=</span> <span class="fl">5L</span><span class="op">)</span></span>
<span><span class="co">## 11 features with more than 5 categories ignored!</span></span>
<span><span class="co">## dest: 100 categories</span></span>
<span><span class="co">## tailnum: 3246 categories</span></span>
<span><span class="co">## carrier: 16 categories</span></span>
<span><span class="co">## flight: 3773 categories</span></span>
<span><span class="co">## time_hour: 6642 categories</span></span>
<span><span class="co">## name_carrier: 16 categories</span></span>
<span><span class="co">## manufacturer: 24 categories</span></span>
<span><span class="co">## model: 121 categories</span></span>
<span><span class="co">## engine: 6 categories</span></span>
<span><span class="co">## name: 100 categories</span></span>
<span><span class="co">## tzone_dest: 7 categories</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-correlation-1.png" width="768" style="display: block; margin: auto;"></p>
<p>You may also choose to visualize only discrete/continuous features
with:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_correlation.html">plot_correlation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_correlation.html">plot_correlation</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="principal-component-analysis">Principal Component Analysis<a class="anchor" aria-label="anchor" href="#principal-component-analysis"></a>
</h3>
<p>While you can always do <code>plot_prcomp(na.omit(final_data))</code>
directly, but PCA works better with cleaner data. To perform and
visualize PCA on some selected features:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pca_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"origin"</span>, <span class="st">"dep_delay"</span>, <span class="st">"arr_delay"</span>, <span class="st">"air_time"</span>, <span class="st">"year_planes"</span>, <span class="st">"seats"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_prcomp.html">plot_prcomp</a></span><span class="op">(</span><span class="va">pca_df</span>, variance_cap <span class="op">=</span> <span class="fl">0.9</span>, nrow <span class="op">=</span> <span class="fl">2L</span>, ncol <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-prcomp-1.png" width="768" style="display: block; margin: auto;"><img src="dataexplorer-intro_files/figure-html/eda-plot-prcomp-2.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="slicing-dicing">Slicing &amp; dicing<a class="anchor" aria-label="anchor" href="#slicing-dicing"></a>
</h3>
<p>Often, slicing and dicing data in different ways could be crucial to
your analysis, and yields insights quickly.</p>
<div class="section level4">
<h4 id="boxplots">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"></a>
</h4>
<p>Suppose you would like to build a model to predict arrival delays,
you may visualize the distribution of all continuous features based on
arrival delays with a boxplot:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Reduce data size for demo purpose</span></span>
<span><span class="va">arr_delay_df</span> <span class="op">&lt;-</span> <span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arr_delay"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>, <span class="st">"hour"</span>, <span class="st">"minute"</span>, <span class="st">"dep_delay"</span>, <span class="st">"distance"</span>, <span class="st">"year_planes"</span>, <span class="st">"seats"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co">## Call boxplot function</span></span>
<span><span class="fu"><a href="../reference/plot_boxplot.html">plot_boxplot</a></span><span class="op">(</span><span class="va">arr_delay_df</span>, by <span class="op">=</span> <span class="st">"arr_delay"</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-boxplot-1.png" width="768" style="display: block; margin: auto;"></p>
<p>Among all the subtle changes in correlation with arrival delays, you
could immediately spot that planes with 300+ seats tend to have much
longer delays (16 ~ 21 hours). You may now drill down further to verify
or generate more hypotheses.</p>
</div>
<div class="section level4">
<h4 id="scatterplots">Scatterplots<a class="anchor" aria-label="anchor" href="#scatterplots"></a>
</h4>
<p>An alternative visualization is scatterplot. For example:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arr_delay_df2</span> <span class="op">&lt;-</span> <span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arr_delay"</span>, <span class="st">"dep_time"</span>, <span class="st">"dep_delay"</span>, <span class="st">"arr_time"</span>, <span class="st">"air_time"</span>, <span class="st">"distance"</span>, <span class="st">"year_planes"</span>, <span class="st">"seats"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_scatterplot.html">plot_scatterplot</a></span><span class="op">(</span><span class="va">arr_delay_df2</span>, by <span class="op">=</span> <span class="st">"arr_delay"</span>, sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/eda-plot-scatterplot-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="feature-engineering">Feature Engineering<a class="anchor" aria-label="anchor" href="#feature-engineering"></a>
</h2>
<p>Feature engineering is the process of creating new features from
existing ones. Newly engineered features often generate valuable
insights.</p>
<p>For functions in this section, it is preferred to use <a href="https://cran.r-project.org/package=data.table" class="external-link">data.table</a>
objects as input, and they will be <a href="https://cran.r-project.org/package=data.table/vignettes/datatable-reference-semantics.html" class="external-link">updated
by reference</a>. Otherwise, output object will be returned matching the
input class.</p>
<div class="section level3">
<h3 id="replace-missing-values">Replace missing values<a class="anchor" aria-label="anchor" href="#replace-missing-values"></a>
</h3>
<p>Missing values may have meanings for a feature. Other than imputation
methods, we may also set them to some logical values. For example, for
discrete features, we may want to group missing values to a new
category. For continuous features, we may want to set missing values to
a known number based on existing knowledge.</p>
<p>In <strong>DataExplorer</strong>, this can be done by
<code>set_missing</code>. The function automatically matches the
argument for either discrete or continuous features, i.e., if you
specify a number, all missing continuous values will be set to that
number. If you specify a string, all missing discrete values will be set
to that string. If you supply both, both types will be set.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Return data.frame</span></span>
<span><span class="va">final_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_missing.html">set_missing</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## Column [dep_time]: Set 8255 missing values to 0</span></span>
<span><span class="co">## Column [dep_delay]: Set 8255 missing values to 0</span></span>
<span><span class="co">## Column [arr_time]: Set 8713 missing values to 0</span></span>
<span><span class="co">## Column [arr_delay]: Set 9430 missing values to 0</span></span>
<span><span class="co">## Column [air_time]: Set 9430 missing values to 0</span></span>
<span><span class="co">## Column [year_planes]: Set 57912 missing values to 0</span></span>
<span><span class="co">## Column [engines]: Set 52606 missing values to 0</span></span>
<span><span class="co">## Column [seats]: Set 52606 missing values to 0</span></span>
<span><span class="co">## Column [lat_dest]: Set 7602 missing values to 0</span></span>
<span><span class="co">## Column [lon_dest]: Set 7602 missing values to 0</span></span>
<span><span class="co">## Column [alt_dest]: Set 7602 missing values to 0</span></span>
<span><span class="co">## Column [tz_dest]: Set 7602 missing values to 0</span></span>
<span><span class="co">## Column [tailnum]: Set 2512 missing values to unknown</span></span>
<span><span class="co">## Column [type]: Set 52606 missing values to unknown</span></span>
<span><span class="co">## Column [manufacturer]: Set 52606 missing values to unknown</span></span>
<span><span class="co">## Column [model]: Set 52606 missing values to unknown</span></span>
<span><span class="co">## Column [engine]: Set 52606 missing values to unknown</span></span>
<span><span class="co">## Column [name]: Set 7602 missing values to unknown</span></span>
<span><span class="co">## Column [dst_dest]: Set 7602 missing values to unknown</span></span>
<span><span class="co">## Column [tzone_dest]: Set 7602 missing values to unknown</span></span>
<span><span class="fu"><a href="../reference/plot_missing.html">plot_missing</a></span><span class="op">(</span><span class="va">final_df</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/fe-set-missing-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">## Update data.table by reference</span></span>
<span><span class="co"># library(data.table)</span></span>
<span><span class="co"># final_dt &lt;- data.table(final_data)</span></span>
<span><span class="co"># set_missing(final_dt, list(0L, "unknown"))</span></span>
<span><span class="co"># plot_missing(final_dt)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="group-sparse-categories">Group sparse categories<a class="anchor" aria-label="anchor" href="#group-sparse-categories"></a>
</h3>
<p>From the bar charts above, we observed a number of discrete features
with sparse categorical distributions. Sometimes, we want to group
low-frequency categories to a new bucket, or reduce the number of
categories to a reasonable range. <code>group_category</code> will do
the work.</p>
<p>Take <strong>manufacturer</strong> feature for example, suppose we
want to group the long tail to another category. We could try with
bottom 20% (by count) first:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/group_category.html">group_category</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">final_data</span>, feature <span class="op">=</span> <span class="st">"manufacturer"</span>, threshold <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="co">##   manufacturer   cnt       pct   cum_pct</span></span>
<span><span class="co">## 1       AIRBUS 88193 0.2618744 0.2618744</span></span>
<span><span class="co">## 2       BOEING 82912 0.2461933 0.5080677</span></span>
<span><span class="co">## 3      EMBRAER 66068 0.1961779 0.7042456</span></span></code></pre></div>
<p>As we can see, manufacturer will be shrinked down to 4 categories,
i.e., AIRBUS, BOEING, EMBRAER, and OTHER. If you like this threshold,
you may specify <code>update = TRUE</code> to update the original
dataset:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_category.html">group_category</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">final_data</span>, feature <span class="op">=</span> <span class="st">"manufacturer"</span>, threshold <span class="op">=</span> <span class="fl">0.2</span>, update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_df</span><span class="op">$</span><span class="va">manufacturer</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/fe-group-category-count-update-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Instead of shrinking categories by frequency, you may also group the
categories by another continuous metric. For example, if you want to
bucket the carrier with bottom 20% distance traveled, you may do the
following:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/group_category.html">group_category</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">final_data</span>, feature <span class="op">=</span> <span class="st">"name_carrier"</span>, threshold <span class="op">=</span> <span class="fl">0.2</span>, measure <span class="op">=</span> <span class="st">"distance"</span><span class="op">)</span></span>
<span><span class="co">##             name_carrier      cnt       pct   cum_pct</span></span>
<span><span class="co">## 1  United Air Lines Inc. 89705524 0.2561422 0.2561422</span></span>
<span><span class="co">## 2   Delta Air Lines Inc. 59507317 0.1699153 0.4260575</span></span>
<span><span class="co">## 3        JetBlue Airways 58384137 0.1667082 0.5927657</span></span>
<span><span class="co">## 4 American Airlines Inc. 43864584 0.1252495 0.7180152</span></span></code></pre></div>
<p>Similarly, if you like it, you may add <code>update = TRUE</code> to
update the original dataset.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_category.html">group_category</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">final_data</span>, feature <span class="op">=</span> <span class="st">"name_carrier"</span>, threshold <span class="op">=</span> <span class="fl">0.2</span>, measure <span class="op">=</span> <span class="st">"distance"</span>, update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">final_df</span><span class="op">$</span><span class="va">name_carrier</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/fe-group-category-metric-update-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="dummify-data-one-hot-encoding">Dummify data (one hot encoding)<a class="anchor" aria-label="anchor" href="#dummify-data-one-hot-encoding"></a>
</h3>
<p>To transform the data into binary format (so that ML algorithms can
pick it up), <code>dummify</code> will do the job. The function
preserves original data structure, so that only eligible discrete
features will be turned into binary format.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_str.html">plot_str</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"original"</span> <span class="op">=</span> <span class="va">final_data</span>,</span>
<span>    <span class="st">"dummified"</span> <span class="op">=</span> <span class="fu"><a href="../reference/dummify.html">dummify</a></span><span class="op">(</span><span class="va">final_data</span>, maxcat <span class="op">=</span> <span class="fl">5L</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 11 features with more than 5 categories ignored!</span></span>
<span><span class="co">## dest: 105 categories</span></span>
<span><span class="co">## tailnum: 4044 categories</span></span>
<span><span class="co">## carrier: 16 categories</span></span>
<span><span class="co">## flight: 3844 categories</span></span>
<span><span class="co">## time_hour: 6936 categories</span></span>
<span><span class="co">## name_carrier: 16 categories</span></span>
<span><span class="co">## manufacturer: 32 categories</span></span>
<span><span class="co">## model: 128 categories</span></span>
<span><span class="co">## engine: 7 categories</span></span>
<span><span class="co">## name: 102 categories</span></span>
<span><span class="co">## tzone_dest: 8 categories</span></span></code></pre>
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:800px;height:1500px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"root":{"name":"root (List of 2)","children":[{"name":"original ('data.frame')","children":[{"name":"dest (chr)"},{"name":"origin (chr)"},{"name":"tailnum (chr)"},{"name":"carrier (chr)"},{"name":"month (int)"},{"name":"day (int)"},{"name":"dep_time (int)"},{"name":"sched_dep_time (int)"},{"name":"dep_delay (num)"},{"name":"arr_time (int)"},{"name":"sched_arr_time (int)"},{"name":"arr_delay (num)"},{"name":"flight (Factor w/ 3844 levels \"1\",\"2\",\"3\",\"4\",)"},{"name":"air_time (num)"},{"name":"distance (num)"},{"name":"hour (num)"},{"name":"minute (num)"},{"name":"time_hour (POSIXct, format)"},{"name":"name_carrier (chr)"},{"name":"year_planes (int)"},{"name":"type (chr)"},{"name":"manufacturer (chr)"},{"name":"model (chr)"},{"name":"engines (int)"},{"name":"seats (int)"},{"name":"engine (chr)"},{"name":"name_origin (chr)"},{"name":"lat_origin (num)"},{"name":"lon_origin (num)"},{"name":"alt_origin (num)"},{"name":"name (chr)"},{"name":"lat_dest (num)"},{"name":"lon_dest (num)"},{"name":"alt_dest (num)"},{"name":"tz_dest (num)"},{"name":"dst_dest (chr)"},{"name":"tzone_dest (chr)"}]},{"name":"dummified ('data.frame')","children":[{"name":"month (int)"},{"name":"day (int)"},{"name":"dep_time (int)"},{"name":"sched_dep_time (int)"},{"name":"dep_delay (num)"},{"name":"arr_time (int)"},{"name":"sched_arr_time (int)"},{"name":"arr_delay (num)"},{"name":"air_time (num)"},{"name":"distance (num)"},{"name":"hour (num)"},{"name":"minute (num)"},{"name":"year_planes (int)"},{"name":"engines (int)"},{"name":"seats (int)"},{"name":"lat_origin (num)"},{"name":"lon_origin (num)"},{"name":"alt_origin (num)"},{"name":"lat_dest (num)"},{"name":"lon_dest (num)"},{"name":"alt_dest (num)"},{"name":"tz_dest (num)"},{"name":"dest (chr)"},{"name":"tailnum (chr)"},{"name":"carrier (chr)"},{"name":"flight (Factor w/ 3844 levels \"1\",\"2\",\"3\",\"4\",)"},{"name":"time_hour (POSIXct, format)"},{"name":"name_carrier (chr)"},{"name":"manufacturer (chr)"},{"name":"model (chr)"},{"name":"engine (chr)"},{"name":"name (chr)"},{"name":"tzone_dest (chr)"},{"name":"origin_EWR (int)"},{"name":"origin_JFK (int)"},{"name":"origin_LGA (int)"},{"name":"type_Fixed.wing.multi.engine (int)"},{"name":"type_Fixed.wing.single.engine (int)"},{"name":"type_NA (int)"},{"name":"type_Rotorcraft (int)"},{"name":"name_origin_John.F.Kennedy.Intl (int)"},{"name":"name_origin_La.Guardia (int)"},{"name":"name_origin_Newark.Liberty.Intl (int)"},{"name":"dst_dest_A (int)"},{"name":"dst_dest_N (int)"},{"name":"dst_dest_NA (int)"}]}]},"options":{"height":1500,"width":800,"fontSize":20,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"#fff","nodeStroke":"steelblue","textColour":"#111","margin":{"top":null,"right":50,"bottom":null,"left":50},"opacity":0.9}},"evals":[],"jsHooks":[]}</script><p>Note the <code>maxcat</code> argument. If a discrete feature has more
categories than <code>maxcat</code>, it will not be dummified. As a
result, it will be returned untouched.</p>
</div>
<div class="section level3">
<h3 id="drop-features">Drop features<a class="anchor" aria-label="anchor" href="#drop-features"></a>
</h3>
<p>After viewing the feature distribution, you often want to drop
features that are insignificant. For example, features like
<strong>dst_dest</strong> has mostly one value, and it doesn’t provide
any valuable information. You can use <code>drop_columns</code> to
quickly drop features. The function takes either names or column
indices.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/drop_columns.html">drop_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dst_dest"</span>, <span class="st">"tzone_dest"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/drop_columns.html">drop_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">36</span>, <span class="fl">37</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">## [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="update-features">Update features<a class="anchor" aria-label="anchor" href="#update-features"></a>
</h3>
<p>To quickly update many features with the same treatment, you may use
<code>update_columns</code>. A very common use case is to set features
to a different type, e.g., continuous to discrete. To quickly set all
time related features to discrete:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">temporal_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month"</span>, <span class="st">"day"</span>, <span class="st">"hour"</span>, <span class="st">"minute"</span>, <span class="st">"tz_dest"</span><span class="op">)</span></span>
<span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_columns.html">update_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="va">temporal_features</span>, <span class="va">as.factor</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"month"</span>, <span class="st">"day"</span>, <span class="st">"hour"</span>, <span class="st">"minute"</span>, <span class="st">"tz_dest"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">## 'data.frame':    336776 obs. of  5 variables:</span></span>
<span><span class="co">##  $ month  : Factor w/ 12 levels "1","2","3","4",..: 5 10 12 5 12 8 7 7 5 8 ...</span></span>
<span><span class="co">##  $ day    : Factor w/ 31 levels "1","2","3","4",..: 14 29 19 30 7 25 12 1 15 26 ...</span></span>
<span><span class="co">##  $ hour   : Factor w/ 20 levels "1","5","6","7",..: 17 17 17 17 17 17 17 17 17 17 ...</span></span>
<span><span class="co">##  $ minute : Factor w/ 60 levels "0","1","2","3",..: 2 1 2 2 2 8 8 8 2 8 ...</span></span>
<span><span class="co">##  $ tz_dest: Factor w/ 6 levels "-10","-9","-8",..: 4 4 4 4 4 4 4 4 4 4 ...</span></span></code></pre></div>
<p>You may also use this function to transform selected features with a
customized function:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bin_seat</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">x</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">50L</span>, <span class="fl">100L</span>, <span class="fl">150L</span>, <span class="fl">200L</span>, <span class="fl">500L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">transformed_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/update_columns.html">update_columns</a></span><span class="op">(</span><span class="va">final_data</span>, <span class="st">"seats"</span>, <span class="va">bin_seat</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_bar.html">plot_bar</a></span><span class="op">(</span><span class="va">transformed_data</span><span class="op">$</span><span class="va">seats</span><span class="op">)</span></span></code></pre></div>
<p><img src="dataexplorer-intro_files/figure-html/update-feature-transformation-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="data-reporting">Data Reporting<a class="anchor" aria-label="anchor" href="#data-reporting"></a>
</h2>
<p>To organize all the data profiling statistics into a report, you may
use the <code>create_report</code> function. It will run most of the EDA
functions and output a html file.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_report.html">create_report</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">)</span></span></code></pre></div>
<p>To maximize the usage of this function, always supply a response
variable (if applicable) to automate various bivariate analyses. For
example,</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_report.html">create_report</a></span><span class="op">(</span><span class="va">final_data</span>, y <span class="op">=</span> <span class="st">"arr_delay"</span><span class="op">)</span></span></code></pre></div>
<p>You may also customize each individual section using
<code>configure_report</code> function. It returns all specified
arguments in a list, and then will be passed to <code>do.call</code> to
be invoked. There are 3 types of arguments in this function:</p>
<ol style="list-style-type: decimal">
<li>switches (<code>add_*</code>): turn on/off a section</li>
<li>arguments (<code>*_args</code>): customize each section</li>
<li>global settings (<code>global_*</code>): global theme settings</li>
</ol>
<p>To turn off a few sections and set a global theme:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/configure_report.html">configure_report</a></span><span class="op">(</span></span>
<span>  add_plot_str <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_qq <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_prcomp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_boxplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_scatterplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  global_ggtheme <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">## $introduce</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_intro</span></span>
<span><span class="co">## $plot_intro$ggtheme</span></span>
<span><span class="co">## theme_minimal(base_size = 14)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_intro$theme_config</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_missing</span></span>
<span><span class="co">## $plot_missing$ggtheme</span></span>
<span><span class="co">## theme_minimal(base_size = 14)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_missing$theme_config</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_histogram</span></span>
<span><span class="co">## $plot_histogram$ggtheme</span></span>
<span><span class="co">## theme_minimal(base_size = 14)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_histogram$theme_config</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_bar</span></span>
<span><span class="co">## $plot_bar$ggtheme</span></span>
<span><span class="co">## theme_minimal(base_size = 14)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_bar$theme_config</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_correlation</span></span>
<span><span class="co">## $plot_correlation$ggtheme</span></span>
<span><span class="co">## theme_minimal(base_size = 14)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_correlation$theme_config</span></span>
<span><span class="co">## list()</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $plot_correlation$cor_args</span></span>
<span><span class="co">## $plot_correlation$cor_args$use</span></span>
<span><span class="co">## [1] "pairwise.complete.obs"</span></span></code></pre></div>
<p>The output can be passed directly to <code>config</code> argument in
<code>create_repot</code>, e.g.,</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/configure_report.html">configure_report</a></span><span class="op">(</span></span>
<span>  add_plot_str <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_qq <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_prcomp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_boxplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_plot_scatterplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  global_ggtheme <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/create_report.html">create_report</a></span><span class="op">(</span><span class="va">final_data</span>, config <span class="op">=</span> <span class="va">config</span><span class="op">)</span></span></code></pre></div>
<p>To configure the report without using <code>configure_report</code>
function, you may edit the template below and pass it directly to
<code>config</code> argument:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"introduce"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_intro"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_str"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"type"</span> <span class="op">=</span> <span class="st">"diagonal"</span>,</span>
<span>    <span class="st">"fontSize"</span> <span class="op">=</span> <span class="fl">35</span>,</span>
<span>    <span class="st">"width"</span> <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>    <span class="st">"margin"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"left"</span> <span class="op">=</span> <span class="fl">350</span>, <span class="st">"right"</span> <span class="op">=</span> <span class="fl">250</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="st">"plot_missing"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_histogram"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_density"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_qq"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_bar"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_correlation"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"cor_args"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"use"</span> <span class="op">=</span> <span class="st">"pairwise.complete.obs"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_prcomp"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_boxplot"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="st">"plot_scatterplot"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sampled_rows <span class="op">=</span> <span class="fl">1000L</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/create_report.html">create_report</a></span><span class="op">(</span><span class="va">final_data</span>, config <span class="op">=</span> <span class="va">config</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Boxuan Cui.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
